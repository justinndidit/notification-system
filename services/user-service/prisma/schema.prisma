generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             String        @id @default(uuid())
  email          String        @unique
  password       String
  role           String        @default("user")
  created_at     DateTime      @default(now())
  updated_at     DateTime      @updatedAt
  push_token     String?   @unique
  preferences    Preference?
}


model Preference {
  id                 String  @id @default(uuid())
  user               User    @relation(fields: [user_id], references: [id])
  user_id            String  @unique
  email_opt_in       Boolean @default(true)
  push_opt_in        Boolean @default(true)
  daily_limit        Int     @default(100)
  language           String  @default("english")
  updated_at         DateTime @updatedAt
  created_at         DateTime @default(now())
}


